<article>
    <section class="article-title">
        <h1>$title$</h1>
        <div class="byline" >
            Posted $date$
            $if(author)$
                by $author$
            $endif$
        </div>
    </section>
    <section class="article-body">
        $body$
    </section>
    <section class="comments" >
        <div id="graphcomment"></div>
        <script type="text/javascript">
         window.gc_params = {
             graphcomment_id: 'blog-thjread',

             // if your website has a fixed header, indicate it's height in pixels
             fixed_header_height: 0,
         };

         /* ------------ */

         var intersectionObserver = new IntersectionObserver(function(entries) {
             // If intersectionRatio is 0, the target is out of view
             // and we do not need to do anything.
             if (entries[0].intersectionRatio <= 0) return;

             intersectionObserver.disconnect();

             (function() {
                 var gc = document.createElement('script'); gc.type = 'text/javascript'; gc.async = true;
                 gc.src = 'https://graphcomment.com/js/integration.js?' + Math.round(Math.random() * 1e8);
                 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(gc);
             })();
         });

         intersectionObserver.observe(document.querySelector('.comments'));
        </script>
    </section>
</article>
